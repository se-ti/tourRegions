На данный момент схема районов распространяется в виде отдельных GeoJSON- и JSON-файлов.

[index.json](index.json) содержит поле __data__: массив ссылок на GeoJSON-файлы c полигонами районов, и __tree__ &mdash; ссылку на файл, описывающий [структуру районов](data/tree.json). 

Пример:
```json
{
    "data": [
      "altay.geojson",
      "caucasus.geojson", 
      "ural.geojson"
    ],
    "tree":"tree.json"
}
```
### Геоданные
GeoJSON-файлы состоят из множества (FeatureCollection) фич-полигонов, иногда, например Чукотка, &mdash; мульти-полигонов, соответствующих районам.

У фич заполнены поля: 
- id &mdash; уникальный номер района. Гарантированно больше 1000
- name &mdash; название района
- westraPlaceId &mdash; неотрицательное целое, id района в [каталоге Вестры](https://westra.ru/passes/). Разные фичи могут иметь одинаковый westraPlaceId. 
  Если westraPlaceId, больше 0, то по нему можно получить ссылку на район. Так westraPlaceId=65 дает ссылку на Алтай: https://westra.ru/passes/Places/65
- attribution &mdash; автор, сделавший основную работу по отрисовке района
- fill &mdash; css-код цвета, использующийся в раскраске по умолчанию.
- styleUrl &mdash; текстовое описание цвета. Соответствие с полем fill поддерживается в полуавтоматическом режиме.
- fill-opacity &mdash; float, прозрачность в раскраске по-умолчанию. Обычно 0.4.
- sub &mdash; неотрицательное целое, уровень в иерархии. 0 &mdash; район верхнего уровня, 1 &mdash; подрайон, 2 &mdash; подрайон подрайона. Значение по умолчанию &mdash; 0.
  
Единственный, известный на данный момент район с sub=2 &mdash; горы Дукдон в Фанах.  

Все поля являются необязательными.  
```json
[
  {"type":"Feature",
    "properties":{"id":1181,"name":"Тандыкуль-Янгидаван","westraPlaceId":142,"styleUrl":"#cyan","fill":"#55ffff","fill-opacity":0.4,"attribution":"Григорий Варгафтик"}...
  },
  {"type":"Feature",
    "properties":{"id":1190,"name":"горы Дукдон","westraPlaceId":0,"sub":2,"styleUrl":"#dark","fill":"#55aa7f","fill-opacity":0.4,"attribution":"<a href=\"https://slazav.xyz\">Владислав Завьялов</a>"}...
  }
]
```

### Структура районов
Описание структуры районов намеренно отделено от полигонов. 
Также намеренно описание допускает создание недревовидных иерархий, хотя на данный момент такая возможность и не используется. 
Базовый элемент &mdash; структура Region
```json
{
    "title":"Тибет",
    "comment":"",
    "featureId":1295,
    "subRegions":[],
    "subFeatureIds":[]
}
```
Все поля необязательны, но хотя бы одно должно быть заполнено.
- title &mdash; название района
- comment &mdash; комментарий
- featureId &mdash; id фичи из одного из geojson-файлов. Не задается для сверх-крупных районов типа Кавказа или Памира, 
  но в таком случае должно быть заполено как минимум одно из полей __subRegions__ и __subFeatureIds__, и одно из полей __title__ и __comment__.
- subRegions &mdash; массив таких же структур, описателей подрайонов. По умолчанию &mdash; пустой массив.
- subFeatureIds &mdash; краткая форма записи __subRegions__, если для описания подрайонов достаточно __featureId__. По умолчанию &mdash; пустой массив.

Подпись района определяется:
- полем __title__.  
- если оно не задано, но задано поле featureId, такая фича существует, и у нее задано свойство name &mdash; свойством __name__.  
- полем __comment__, если не задано ни поле title, ни name у фичи.

Запись
 ```json
{
  "subRegions":[
    {"title": "region 1"...},
    ... 
    {"title": "region N"...}
  ],
  "subFeatureIds":[x, y, z]
}
```
В точности эквивалентна
```json
{
  "subRegions":[
    {"title": "region 1"...},
    ...
    {"title": "region N"...},
    
    {"featureId": x},
    {"featureId": y},
    {"featureId": z}
  ],
  "subFeatureIds":[]
}
```
